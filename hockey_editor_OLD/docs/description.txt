Hockey Editor - инструмент анализа видео хоккейных матчей

Покадровый анализ хоккейных матчей с поддержкой 13 типов игровых событий и возможностью создания собственных категорий.

ОСНОВНЫЕ ВОЗМОЖНОСТИ

- Видеоплеер: Управление воспроизведением и перемоткой с регулировкой скорости
- Маркеры событий: Создание и управление сегментами с горячими клавишами
- Интерактивный таймлайн: Визуализация событий с цветными дорожками
- Предпросмотр сегментов: Просмотр и фильтрация отмеченных отрезков
- Экспорт: Сохранение сегментов в видео форматы
- Система проектов: Сохранение и загрузка анализа
- Undo/Redo: Отмена и повтор операций
- Настраиваемые события: Создание собственных типов событий

ИНТЕРФЕЙС ПОЛЬЗОВАТЕЛЯ

Главное окно приложения состоит из нескольких основных областей:

[СКРИНШОТ: Главное окно приложения с видео и таймлайном]

1. Область видео - в верхней части окна отображается видеоплеер с кнопками управления воспроизведением
2. Панель управления - под видео расположены кнопки Play/Pause, ползунок прогресса, время и скорость воспроизведения
3. Таймлайн - в нижней части окна находится интерактивная временная шкала с цветными дорожками для каждого типа событий

[СКРИНШОТ: Таймлайн с отмеченными событиями разных типов]

На таймлайне каждый тип события отображается на своей цветной дорожке:
- Красная дорожка - голы
- Оранжевая дорожка - броски в створ
- Желтая дорожка - броски мимо
- Коричневая дорожка - заблокированные броски
- Синяя дорожка - входы в зону
- Голубая дорожка - выходы из зоны
- Бирюзовая дорожка - вбросы
- Серая дорожка - потери
- Зеленая дорожка - перехваты
- Светло-зеленая дорожка - выигранные вбрасывания
- Темно-зеленая дорожка - проигранные вбрасывания
- Темно-синяя дорожка - блокшоты в обороне
- Фиолетовая дорожка - удаления

[СКРИНШОТ: Окно предпросмотра сегментов]

Окно предпросмотра позволяет просматривать все отмеченные сегменты с возможностью фильтрации по типам событий. Каждый сегмент можно просмотреть отдельно или в последовательности.

[СКРИНШОТ: Диалог экспорта видео]

Диалог экспорта позволяет выбрать сегменты для сохранения в отдельный видеофайл с настройками качества и формата.

[СКРИНШОТ: Настройки типов событий]

В настройках можно добавлять новые типы событий, назначать им горячие клавиши и цвета для отображения на таймлайне.

УСТАНОВКА И ЗАПУСК

Системные требования:
- Операционная система: Windows 10/11, Linux, macOS
- Python 3.8 или выше
- FFmpeg для обработки видео

Процесс установки:

1. Скачайте и установите Python с официального сайта python.org
2. Установите FFmpeg:
   - Windows: скачайте с https://ffmpeg.org/download.html
   - Linux: sudo apt install ffmpeg
   - macOS: brew install ffmpeg

3. Клонируйте репозиторий:
   git clone https://github.com/mijeha4/hockey_editor.git

4. Перейдите в папку проекта:
   cd hockey_editor

5. Создайте виртуальное окружение:
   python -m venv venv

6. Активируйте виртуальное окружение:
   - Windows: venv\Scripts\activate
   - Linux/Mac: source venv/bin/activate

7. Установите зависимости:
   pip install -r requirements.txt

8. Запустите приложение:
   python main.py

РУКОВОДСТВО ПОЛЬЗОВАТЕЛЮ

Основной рабочий процесс:

1. Запустите приложение командой python main.py

2. Загрузите видео:
   - Нажмите кнопку "Открыть" или используйте Ctrl+O
   - Или перетащите видеофайл в окно приложения

3. Начните анализ матча:
   - Используйте кнопки Play/Pause или клавишу Space для управления воспроизведением
   - Во время просмотра нажимайте горячие клавиши для отметки событий

ГОРЯЧИЕ КЛАВИШИ ДЛЯ ОТМЕТКИ СОБЫТИЙ

G - Гол
H - Бросок в створ
M - Бросок мимо
B - Заблокированный бросок
Z - Вход в зону
X - Выход из зоны
D - Вброс
T - Потеря
A - Перехват
F - Вбрасывание выиграно
L - Вбрасывание проиграно
K - Блокшот в обороне
P - Удаление

ДОПОЛНИТЕЛЬНЫЕ ГОРЯЧИЕ КЛАВИШИ

Space - Play/Pause
Ctrl+O - Открыть видео
Ctrl+S - Сохранить проект
Ctrl+Z - Отменить действие
Ctrl+Y - Повторить действие
Ctrl+E - Экспорт сегментов
Ctrl+, - Настройки
Escape - Отменить текущую запись события

РАБОТА С ПРОЕКТАМИ

- Создание нового проекта: Файл -> Новый проект
- Сохранение проекта: Файл -> Сохранить проект (Ctrl+S)
- Загрузка проекта: Файл -> Открыть проект (Ctrl+O)
- Автосохранение: Происходит автоматически каждые 5 минут

Проекты сохраняются в формате .hep (ZIP-архив с метаданными и маркерами событий).

ЭКСПОРТ СЕГМЕНТОВ

1. Нажмите кнопку "Экспорт" или Ctrl+E
2. Выберите сегменты для экспорта (можно выбрать все или только определенные типы)
3. Укажите путь и имя выходного файла
4. Настройте параметры экспорта:
   - Формат видео (MP4, MOV, MKV)
   - Качество (CRF)
   - Кодек (H.264, H.265)

НАСТРОЙКИ ПРОГРАММЫ

В диалоге настроек (Ctrl+,) можно:

- Настроить горячие клавиши для событий
- Изменить параметры записи (pre-roll, post-roll)
- Настроить автосохранение
- Добавить новые типы событий
- Изменить цвета отображения событий

ТЕХНИЧЕСКАЯ ПОДДЕРЖКА

При возникновении проблем:

1. Проверьте наличие FFmpeg: ffmpeg -version
2. Убедитесь, что видеофайл поддерживается (MP4, AVI, MOV, MKV)
3. Проверьте логи приложения на наличие ошибок
4. При сбое используйте функцию восстановления из автосохранения

ЛИЦЕНЗИЯ

Проект распространяется под лицензией MIT.
