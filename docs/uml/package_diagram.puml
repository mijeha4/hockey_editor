@startuml

' == НАСТРОЙКИ ==
skinparam monochrome true
skinparam shadowing false
skinparam packageStyle folder
skinparam defaultFontName Arial
' Используем ортогональные линии
skinparam linetype ortho

' Стиль прямоугольников (Слоев)
skinparam rectangle {
    BorderStyle solid
    BorderColor Black
    BackgroundColor White
    FontSize 12
    FontStyle Bold
}

' == ЛЕВАЯ КОЛОНКА (ОСНОВНОЙ СТЕК) ==

rectangle "Presentation Layer" {
    package "UI" {
        rectangle "Пользовательский Интерфейс" as ui_impl
    }
}

rectangle "Business Logic Layer" {
    package "Core" {
        rectangle "       Контроллеры        " as core_impl
    }
}

rectangle "Data Layer" {
    package "Models" {
        rectangle "          Модели          " as models_impl
    }
}

' == ПРАВАЯ КОЛОНКА ==

rectangle "Global" {
    package "Utils" {
        ' Добавляем переносы строк, чтобы визуально увеличить высоту блока
        rectangle "\n         Утилиты          \n" as utils_impl
    }
}

' == ПОЗИЦИОНИРОВАНИЕ И СВЯЗИ ==

' 1. Видимые связи (только основной поток, как вы просили)
ui_impl ..> core_impl
core_impl ..> models_impl

' 2. Скрытые связи для выравнивания (Layout)
' Выстраиваем левую колонку строго друг под другом
ui_impl -[hidden]down- core_impl
core_impl -[hidden]down- models_impl

' 3. Ставим Utils СПРАВА от Core (середины)
' Используем hidden, чтобы не рисовать стрелку, но заставить блок встать справа
core_impl -[hidden]right- utils_impl

@enduml